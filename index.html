<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>塔羅牌抽牌程式</title>
  <style>
    /* ==== 整體頁面風格：簡約柔和 + 暖淺綠色系背景 ==== */
    body {
      margin: 0;
      padding: 0;
      font-family: "Noto Sans", "Microsoft JhengHei", sans-serif;
      background-color: #F0FFF0; 
      background-image: url("https://source.unsplash.com/1600x900/?texture,landscape&blur=8");
      background-size: cover;       
      background-position: center;  
      background-repeat: no-repeat; 
      background-blend-mode: lighten; 
      color: #333;
    }

    /* 主要內容的容器，控制版面寬度、置中 */
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background-color: rgba(255, 255, 255, 0.7); /* 半透明白底，提高可讀性 */
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    /* 標題 */
    h1 {
      margin-bottom: 20px;
      text-align: center;
      color: #444;
    }

    /* 占卜提示文字 */
    .instruction-text {
      text-align: center;
      color: #666;
      margin-bottom: 20px;
      line-height: 1.5;
    }

    /* 占卜主題區塊 (radio) */
    .divination-type-container {
      text-align: center;
      margin-bottom: 20px;
      color: #444;
    }
    .divination-type-container label {
      margin: 0 10px;
      cursor: pointer;
    }

    /* 按鈕區塊置中 */
    .btn-container {
      text-align: center;
      margin-bottom: 20px;
    }

    /* 按鈕的簡約風樣式 */
    .btn {
      background-color: #EBDDC8; /* 柔和淺咖色 */
      color: #333;
      border: 1px solid #d3c2aa;
      border-radius: 4px;
      padding: 8px 16px;
      margin: 0 5px; /* 按鈕之間的水平間距 */
      cursor: pointer;
      font-size: 14px;
      transition: background-color 0.3s ease;
    }
    .btn:hover {
      background-color: #f1e7d8;
    }

    /* 
      預設情況：每行最多 6 張，置中 
      (抽到 1、3、5 張，都走這邊)
    */
    #resultArea {
      margin-top: 20px;
      display: grid;
      grid-template-columns: repeat(6, auto);
      grid-gap: 10px;
      justify-content: center; 
    }

    /* 只在抽 12 張時，限制卡片寬度避免超出容器 */
    #resultArea.twelve-card-mode .card {
      max-width: 110px; /* 可依實際需求微調 */
    }

    /* 顯示所選占卜主題 */
    .divination-category {
      text-align: center;
      margin-bottom: 10px;
      font-weight: bold;
      color: #444;
      grid-column: 1 / -1; /* 占滿整排 */
    }

    /* 卡片樣式 */
    .card {
      background-color: #fff;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 10px;
      text-align: center;
      box-shadow: 0 2px 3px rgba(0, 0, 0, 0.06);
      /* 建議加上 box-sizing 以便計算寬度更精準 */
      box-sizing: border-box;
    }
    .card-name {
      font-weight: bold;
      color: #555;
      margin-bottom: 4px;
    }
    .card-orientation {
      color: #666;
      font-size: 13px;
    }

    /* 頁面底部的頁尾區域 */
    footer {
      text-align: center;
      margin: 20px auto;
      color: #666;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <!-- 主要內容區 -->
  <div class="container">
    <h1>塔羅牌抽牌程式</h1>

    <!-- 占卜提示文字 -->
    <p class="instruction-text">
      請靜心默唸占卜的問題三次後，<br>
      點選抽牌的張數。
    </p>

    <!-- 占卜主題 (radio) -->
    <div class="divination-type-container">
      <span>請選擇占卜主題：</span>
      <label>
        <input type="radio" name="divinationType" value="事業（自行創業）" checked />
        事業（自行創業）
      </label>
      <label>
        <input type="radio" name="divinationType" value="工作（受雇性質）" />
        工作（受雇性質）
      </label>
      <label>
        <input type="radio" name="divinationType" value="愛情（單身無特定對象）" />
        愛情（單身）
      </label>
      <label>
        <input type="radio" name="divinationType" value="感情（有對象或特定對象）" />
        感情（有對象）
      </label>
    </div>

    <!-- 按鈕置中容器 -->
    <div class="btn-container">
      <button id="drawOneBtn" class="btn">一張</button>
      <button id="drawThreeBtn" class="btn">三張</button>
      <button id="drawFiveBtn" class="btn">五張</button>
      <button id="drawTwelveBtn" class="btn">十二張</button>
    </div>

    <!-- 顯示抽牌結果的區域 -->
    <div id="resultArea"></div>
  </div>
  
  <!-- 頁尾 (由十號出口提供) -->
  <footer>
    由十號出口提供
  </footer>

  <script>
    // --- 大阿爾克那 (22 張) - 僅保留中文 ---
    const majorArcana = [
      "0 愚者","I 魔術師","II 女祭司","III 女皇","IV 皇帝","V 教皇",
      "VI 戀人","VII 戰車","VIII 力量","IX 隱者","X 命運之輪","XI 正義",
      "XII 倒吊人","XIII 死神","XIV 節制","XV 惡魔","XVI 高塔","XVII 星星",
      "XVIII 月亮","XIX 太陽","XX 審判","XXI 世界"
    ];

    // --- 小阿爾克那 (56 張) ---
    const minorArcanaWands = [
      "權杖 1","權杖 2","權杖 3","權杖 4","權杖 5","權杖 6","權杖 7","權杖 8","權杖 9","權杖 10",
      "權杖 侍者","權杖 騎士","權杖 皇后","權杖 國王"
    ];
    const minorArcanaCups = [
      "聖杯 1","聖杯 2","聖杯 3","聖杯 4","聖杯 5","聖杯 6","聖杯 7","聖杯 8","聖杯 9","聖杯 10",
      "聖杯 侍者","聖杯 騎士","聖杯 皇后","聖杯 國王"
    ];
    const minorArcanaSwords = [
      "寶劍 1","寶劍 2","寶劍 3","寶劍 4","寶劍 5","寶劍 6","寶劍 7","寶劍 8","寶劍 9","寶劍 10",
      "寶劍 侍者","寶劍 騎士","寶劍 皇后","寶劍 國王"
    ];
    const minorArcanaPentacles = [
      "錢幣 1","錢幣 2","錢幣 3","錢幣 4","錢幣 5","錢幣 6","錢幣 7","錢幣 8","錢幣 9","錢幣 10",
      "錢幣 侍者","錢幣 騎士","錢幣 皇后","錢幣 國王"
    ];
    const minorArcana = [
      ...minorArcanaWands,
      ...minorArcanaCups,
      ...minorArcanaSwords,
      ...minorArcanaPentacles
    ];

    // 全部 78 張
    const fullTarotDeck = [...majorArcana, ...minorArcana];

    /** 洗牌 (Fisher-Yates) */
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    /** 取得使用者勾選的占卜主題 (radio) */
    function getSelectedDivinationType() {
      const radios = document.querySelectorAll('input[name="divinationType"]');
      for (const radio of radios) {
        if (radio.checked) return radio.value;
      }
      return null; 
    }

    /** 抽指定張數塔羅牌 (含正逆位) */
    function drawCards(count) {
      const deckCopy = [...fullTarotDeck];
      shuffle(deckCopy);
      const drawnCards = [];
      for (let i = 0; i < count; i++) {
        const cardName = deckCopy[i];
        const orientation = Math.random() < 0.5 ? "正位" : "逆位";
        drawnCards.push({ name: cardName, orientation });
      }
      return drawnCards;
    }

    /**
     * 顯示抽牌結果 
     * - 若抽 12 張 => 在 #resultArea 加上 .twelve-card-mode
     * - 其餘情況維持原樣
     */
    function displayCards(cards, divinationType) {
      const resultArea = document.getElementById("resultArea");

      // 清空上次結果
      resultArea.innerHTML = "";

      // 如果抽 12 張，就套用 .twelve-card-mode
      if (cards.length === 12) {
        resultArea.classList.add("twelve-card-mode");
      } else {
        resultArea.classList.remove("twelve-card-mode");
      }

      // 占卜主題標題
      const categoryDiv = document.createElement("div");
      categoryDiv.className = "divination-category";
      categoryDiv.textContent = "占卜主題：" + divinationType;
      resultArea.appendChild(categoryDiv);

      // 每張卡片
      cards.forEach(card => {
        const cardDiv = document.createElement("div");
        cardDiv.className = "card";

        const cardNameDiv = document.createElement("div");
        cardNameDiv.className = "card-name";
        cardNameDiv.textContent = card.name;

        const orientationDiv = document.createElement("div");
        orientationDiv.className = "card-orientation";
        orientationDiv.textContent = card.orientation;

        cardDiv.appendChild(cardNameDiv);
        cardDiv.appendChild(orientationDiv);
        resultArea.appendChild(cardDiv);
      });
    }

    // 綁定 4 個抽牌按鈕
    document.getElementById("drawOneBtn").addEventListener("click", () => {
      const type = getSelectedDivinationType();
      const cards = drawCards(1);
      displayCards(cards, type);
    });

    document.getElementById("drawThreeBtn").addEventListener("click", () => {
      const type = getSelectedDivinationType();
      const cards = drawCards(3);
      displayCards(cards, type);
    });

    document.getElementById("drawFiveBtn").addEventListener("click", () => {
      const type = getSelectedDivinationType();
      const cards = drawCards(5);
      displayCards(cards, type);
    });

    document.getElementById("drawTwelveBtn").addEventListener("click", () => {
      const type = getSelectedDivinationType();
      const cards = drawCards(12);
      displayCards(cards, type);
    });
  </script>
</body>
</html>

